apiVersion: apps/v1
kind: Deployment
metadata:
  name: hr-backend
spec: 
  replicas: 2
  selector: 
    matchLabels: 
      app: hr-backend
  template: 
    metadata:
      labels: 
        app: hr-backend
    spec: 
      containers: 
       - name: hr-backend
         image: priya0119/hr-app:latest
         ports: 
          - containerPort: 3000
         env: 
           - name: Db_URI
             value: "mongodb://rootuser:rootpassword@mongo:27017/hr_system?authSource=admin"
           - name: port
             value: "3000"
           - name: Host
             value: "0.0.0.0"
           - name: Node_env
             value: "production"
---
apiVersion: v1
kind: Service
metadata:
  name: hr-backend-deploy
spec: 
  selector:
    app: hr-backend
  ports:
   - port: 3000
     targetPort: 3000
     protocol: TCP
  type: ClusterIP






